# ğŸ¯ BacarratBot-v2 å°ˆæ¡ˆäº¤æ¥æ–‡ä»¶

**ç‰ˆæœ¬**: v2.0
**å»ºç«‹æ—¥æœŸ**: 2025-09-27
**äº¤æ¥æ—¥æœŸ**: 2025-09-27
**ç‹€æ…‹**: é–‹ç™¼ä¸­ï¼ˆæ ¸å¿ƒåŠŸèƒ½å®Œæˆï¼‰

---

## ğŸ“‹ ç›®éŒ„

1. [å°ˆæ¡ˆæ¦‚è¦½](#å°ˆæ¡ˆæ¦‚è¦½)
2. [æ¶æ§‹è¨­è¨ˆ](#æ¶æ§‹è¨­è¨ˆ)
3. [é–‹ç™¼é€²åº¦](#é–‹ç™¼é€²åº¦)
4. [æŠ€è¡“æ£§èˆ‡ä¾è³´](#æŠ€è¡“æ£§èˆ‡ä¾è³´)
5. [é…ç½®ç³»çµ±](#é…ç½®ç³»çµ±)
6. [UI åŠŸèƒ½æ¨¡çµ„](#ui-åŠŸèƒ½æ¨¡çµ„)
7. [æ ¸å¿ƒå¼•æ“ç³»çµ±](#æ ¸å¿ƒå¼•æ“ç³»çµ±)
8. [åµæ¸¬ç³»çµ±](#åµæ¸¬ç³»çµ±)
9. [éƒ¨ç½²èˆ‡ä½¿ç”¨](#éƒ¨ç½²èˆ‡ä½¿ç”¨)
10. [å·²çŸ¥å•é¡Œèˆ‡å¾…è¾¦](#å·²çŸ¥å•é¡Œèˆ‡å¾…è¾¦)
11. [ä¸‹éšæ®µè·¯ç·šåœ–](#ä¸‹éšæ®µè·¯ç·šåœ–)

---

## ğŸŒŸ å°ˆæ¡ˆæ¦‚è¦½

### æ ¸å¿ƒç›®æ¨™
ç™¾å®¶æ¨‚è‡ªå‹•æŠ•æ³¨æ©Ÿå™¨äººï¼ŒåŸºæ–¼è¢å¹• UI åµæ¸¬é©…å‹•ï¼Œæ”¯æ´ä¹¾è·‘æ¨¡å¼èˆ‡å¤šç¨®æŠ•æ³¨ç­–ç•¥ã€‚

### ä¸»è¦ç‰¹æ€§
- **ğŸ›¡ï¸ å®‰å…¨å„ªå…ˆ**: é è¨­ä¹¾è·‘æ¨¡å¼ï¼Œå®Œæ•´é¢¨æ§æ©Ÿåˆ¶
- **ğŸ¯ ç²¾æº–å®šä½**: OpenCV æ¨¡æ¿åŒ¹é… + HSV é¡è‰²åµæ¸¬
- **ğŸ“Š ç­–ç•¥è±å¯Œ**: é¦¬ä¸æ ¼çˆ¾ã€åé¦¬ä¸æ ¼çˆ¾ã€å›ºå®šæŠ•æ³¨
- **ğŸ”’ é¢¨æ§å®Œå–„**: æ­¢ææ­¢ç›ˆã€å†ªç­‰é–ã€ä¸‹æ³¨ä¿è­·
- **ğŸ“ å®Œæ•´è¨˜éŒ„**: CSV/NDJSON æœƒè©±è¨˜éŒ„èˆ‡å¯©è¨ˆ
- **ğŸ® åœ–å½¢ä»‹é¢**: PySide6 ç¾ä»£åŒ– UI ç®¡ç†ä»‹é¢

### åŸ·è¡Œæ¨¡å¼
- **å‘½ä»¤è¡Œæ¨¡å¼**: `python -m src.autobet.run_bot`
- **GUI æ¨¡å¼**: `python run_gui.py`

---

## ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆ

### å°ˆæ¡ˆçµæ§‹
```
BacarratBot-v2/
â”œâ”€â”€ configs/                    # é…ç½®æª”æ¡ˆ
â”‚   â”œâ”€â”€ strategy.json          # ç­–ç•¥é…ç½®ï¼ˆç•¶å‰ï¼‰
â”‚   â”œâ”€â”€ strategy.default.json  # é è¨­ç­–ç•¥æ¨¡æ¿
â”‚   â”œâ”€â”€ positions.json         # ä½ç½®æ ¡æº–é…ç½®
â”‚   â””â”€â”€ positions.sample.json  # ä½ç½®é…ç½®ç¯„ä¾‹
â”œâ”€â”€ data/                       # è³‡æ–™ç›®éŒ„
â”‚   â”œâ”€â”€ logs/                  # åŸ·è¡Œæ—¥èªŒ
â”‚   â””â”€â”€ sessions/              # æœƒè©±è¨˜éŒ„
â”œâ”€â”€ src/autobet/               # æ ¸å¿ƒæ¨¡çµ„
â”‚   â”œâ”€â”€ autobet_engine.py      # ä¸»ç‹€æ…‹æ©Ÿå¼•æ“
â”‚   â”œâ”€â”€ detectors.py          # UI åµæ¸¬ç³»çµ±
â”‚   â”œâ”€â”€ actuator.py           # æ»‘é¼ æ“ä½œæ¨¡çµ„
â”‚   â”œâ”€â”€ planner.py            # ä¸‹æ³¨è¨ˆåŠƒå™¨
â”‚   â”œâ”€â”€ risk.py               # é¢¨æ§ç®¡ç†
â”‚   â”œâ”€â”€ io_events.py          # äº‹ä»¶ä¾†æºç®¡ç†
â”‚   â””â”€â”€ run_bot.py            # å‘½ä»¤è¡Œå…¥å£
â”œâ”€â”€ ui/                        # GUI ä»‹é¢
â”‚   â”œâ”€â”€ main_window.py        # ä¸»è¦–çª—
â”‚   â”œâ”€â”€ pages/                # åŠŸèƒ½é é¢
â”‚   â””â”€â”€ workers/              # èƒŒæ™¯å·¥ä½œåŸ·è¡Œç·’
â”œâ”€â”€ templates/                 # æ¨¡æ¿åœ–ç‰‡
â”œâ”€â”€ scripts/                   # è¼”åŠ©å·¥å…·
â””â”€â”€ tests/                     # æ¸¬è©¦æª”æ¡ˆ
```

### æ ¸å¿ƒçµ„ä»¶é—œä¿‚åœ–
```
GUI Layer:           main_window.py â†’ pages/ â†’ workers/
                           â†“
Engine Layer:        autobet_engine.py â† io_events.py
                           â†“
Detection Layer:     detectors.py â†’ actuator.py
                           â†“
Config Layer:        strategy.json + positions.json
```

---

## âœ… é–‹ç™¼é€²åº¦

### å·²å®Œæˆæ¨¡çµ„ (7/9)

#### âœ… æ ¸å¿ƒå¼•æ“ (autobet_engine.py)
- **ç‹€æ…‹**: å®Œæˆ
- **åŠŸèƒ½**: å®Œæ•´ç‹€æ…‹æ©Ÿå¯¦ç¾ (idle â†’ betting_open â†’ placing_bets â†’ wait_confirm â†’ in_round â†’ eval_result)
- **ç‰¹è‰²**: å¤šåŸ·è¡Œç·’ã€äº‹ä»¶é©…å‹•ã€é¢¨æ§æ•´åˆ

#### âœ… åµæ¸¬ç³»çµ± (detectors.py)
- **ç‹€æ…‹**: å®Œæˆï¼ˆç”Ÿç”¢ç‰ˆæœ¬ï¼‰
- **åŠŸèƒ½**:
  - `RobustOverlayDetector`: HSV é¡è‰²é–˜æ§ + å¤šå°ºåº¦å­—å½¢åŒ¹é…
  - `ProductionOverlayDetector`: ç°¡åŒ–ç‰ˆé›™é–¾å€¼é€£çºŒå¹€æª¢æ¸¬
  - `OverlayDetectorWrapper`: å‘ä¸‹ç›¸å®¹åŒ…è£å™¨
- **ç‰¹è‰²**: æ»¯å¾Œæ±ºç­–ã€æŠ—é–ƒçˆã€æ¨¡æ¿å¿«å–

#### âœ… é¢¨æ§ç³»çµ± (risk.py)
- **ç‹€æ…‹**: å®Œæˆ
- **åŠŸèƒ½**: å†ªç­‰é–ã€é™é¡æª¢æŸ¥ã€æœƒè©±ä¿è­·

#### âœ… æ“ä½œç³»çµ± (actuator.py)
- **ç‹€æ…‹**: å®Œæˆ
- **åŠŸèƒ½**: ç²¾ç¢ºæ»‘é¼ æ§åˆ¶ã€ä¹¾è·‘æ¨¡å¼ã€é»æ“Šä¿è­·

#### âœ… ç­–ç•¥ç³»çµ± (strategy.py + planner.py)
- **ç‹€æ…‹**: å®Œæˆ
- **åŠŸèƒ½**: é¦¬ä¸æ ¼çˆ¾ç­–ç•¥ã€ç±Œç¢¼é…ç½®ã€ä¸‹æ³¨è¨ˆåŠƒ

#### âœ… GUI æ¶æ§‹ (ui/)
- **ç‹€æ…‹**: å®Œæˆ
- **åŠŸèƒ½**: 9 å€‹åŠŸèƒ½é é¢ã€å·¥ä½œåŸ·è¡Œç·’ã€ä¿¡è™Ÿæ§½æ¶æ§‹

#### âœ… é…ç½®ç³»çµ±
- **ç‹€æ…‹**: å®Œæˆ
- **åŠŸèƒ½**: JSON é…ç½®ã€ç’°å¢ƒè®Šæ•¸ã€CLI åƒæ•¸è¦†è“‹

### é€²è¡Œä¸­æ¨¡çµ„ (2/9)

#### ğŸ”„ ä½ç½®æ ¡æº–é é¢ (page_positions.py)
- **ç‹€æ…‹**: 80% å®Œæˆ
- **å·²å¯¦ç¾**: åŸºæœ¬ä½ç½®æ•ç²ã€ROI è¨­å®š
- **å¾…å®Œæˆ**: æ‰¹é‡æ ¡æº–ã€é©—è­‰æ©Ÿåˆ¶

#### ğŸ”„ è¦†è“‹å±¤åµæ¸¬é é¢ (page_overlay.py)
- **ç‹€æ…‹**: 85% å®Œæˆ
- **å·²å¯¦ç¾**: ç”Ÿç”¢ç‰ˆåµæ¸¬å™¨æ•´åˆã€å³æ™‚é è¦½
- **å¾…å®Œæˆ**: HSV åƒæ•¸èª¿æ•´ä»‹é¢

---

## ğŸ”§ æŠ€è¡“æ£§èˆ‡ä¾è³´

### æ ¸å¿ƒæŠ€è¡“
- **Python**: 3.8+
- **GUI æ¡†æ¶**: PySide6 (Qt 6)
- **å½±åƒè™•ç†**: OpenCV (cv2)
- **æ•¸å€¼è¨ˆç®—**: NumPy
- **è¢å¹•æ“ä½œ**: PyAutoGUI
- **é…ç½®**: JSON, YAML, python-dotenv

### å®Œæ•´ä¾è³´æ¸…å–® (requirements.txt)
```
PySide6>=6.0.0
opencv-python>=4.5.0
numpy>=1.20.0
pyautogui>=0.9.50
python-dotenv>=0.19.0
PyYAML>=6.0
```

### é–‹ç™¼ç’°å¢ƒéœ€æ±‚
- **ä½œæ¥­ç³»çµ±**: Windows 10/11
- **è¢å¹•è§£æåº¦**: 1920x1080 (å»ºè­°)
- **Python è™›æ“¬ç’°å¢ƒ**: å¼·çƒˆå»ºè­°ä½¿ç”¨

---

## âš™ï¸ é…ç½®ç³»çµ±

### ç­–ç•¥é…ç½® (configs/strategy.json)
```json
{
    "unit": 1150,                  // åŸºæœ¬å–®ä½é‡‘é¡
    "target": "AUTO",              // ä¸‹æ³¨ç›®æ¨™ï¼ˆAUTO/P/Bï¼‰
    "martingale": {
        "enabled": true,           // å•Ÿç”¨é¦¬ä¸æ ¼çˆ¾
        "max_level": 7,           // æœ€å¤§ç´šæ•¸
        "reset_on_win": true,     // ç²å‹é‡ç½®
        "progression": [1,2,4,8,16,32,64]  // å€æŠ•åºåˆ—
    },
    "risk_control": {
        "max_loss": 5000,         // æœ€å¤§è™§æ
        "max_win": 3000,          // æœ€å¤§ç²åˆ©
        "session_limit": 50,      // æœƒè©±å±€æ•¸é™åˆ¶
        "consecutive_loss_limit": 5  // é€£çºŒå¤±æ•—é™åˆ¶
    },
    "betting_logic": {
        "follow_trend": true,      // è·Ÿéš¨è¶¨å‹¢
        "switch_after_losses": 3,  // å¤±æ•—å¾Œåˆ‡æ›
        "skip_tie": true          // è·³éå’Œå±€
    }
}
```

### ä½ç½®é…ç½® (configs/positions.json)
```json
{
    "version": 2,
    "screen": {
        "width": 1920,
        "height": 1080,
        "dpi_scale": 1.0
    },
    "points": {
        "banker": {"x": 84, "y": 763},
        "player": {"x": 396, "y": 782},
        "tie": {"x": 688, "y": 769},
        "chip_1k": {"x": 107, "y": 903},
        "confirm": {"x": 990, "y": 760},
        "cancel": {"x": 1429, "y": 773}
    },
    "roi": {
        "overlay": {"x": 195, "y": 575, "w": 104, "h": 29},
        "timer": {"x": 522, "y": 621, "w": 55, "h": 59}
    },
    "overlay_params": {
        "consecutive_required": 1,
        "ncc_threshold": 0.6,
        "template_paths": {
            "qing": "path/to/qing_template.png",
            "jie": "path/to/jie_template.png",
            "fa": "path/to/fa_template.png"
        }
    }
}
```

---

## ğŸ® UI åŠŸèƒ½æ¨¡çµ„

### é é¢æ¶æ§‹
```
ğŸ  é¦–é  (page_home.py)          - å¿«é€Ÿå•Ÿå‹•ã€å°ˆæ¡ˆæ¦‚è¦½
ğŸ–¼ï¸ æ¨¡æ¿ç®¡ç† (page_templates.py)  - æ¨¡æ¿é©—è­‰ã€å“è³ªæª¢æŸ¥
ğŸ“ ä½ç½®æ ¡æº– (page_positions.py)  - åº§æ¨™æ•ç²ã€ROI è¨­å®š
ğŸ¯ å¯ä¸‹æ³¨åˆ¤æ–· (page_overlay.py)   - åµæ¸¬å™¨æ¸¬è©¦ã€åƒæ•¸èª¿æ•´
âš™ï¸ ç­–ç•¥è¨­å®š (page_strategy.py)   - ç­–ç•¥é…ç½®ã€é¦¬ä¸æ ¼çˆ¾è¨­å®š
ğŸ® å¯¦æˆ°ä¸»æ§å° (page_dashboard.py) - å¼•æ“æ§åˆ¶ã€å³æ™‚ç›£æ§
ğŸ“¡ äº‹ä»¶ä¾†æº (page_events.py)     - Demo/NDJSON äº‹ä»¶æº
ğŸ“Š è¨˜éŒ„å›æ”¾ (page_sessions.py)   - æ­·å²è¨˜éŒ„ã€çµ±è¨ˆåˆ†æ
ğŸ”§ ç³»çµ±è¨­å®š (page_settings.py)   - å…¨åŸŸé…ç½®ã€ç’°å¢ƒè®Šæ•¸
```

### é—œéµ UI çµ„ä»¶

#### StatusCard (Dashboard)
```python
class StatusCard(QFrame):
    """ç‹€æ…‹å¡ç‰‡ - é¡¯ç¤ºå¼•æ“ç‹€æ…‹"""
    def update_content(self, content: str, color: str = "#ffffff")
```

#### LogViewer (Dashboard)
```python
class LogViewer(QFrame):
    """æ—¥èªŒæª¢è¦–å™¨ - å³æ™‚æ—¥èªŒé¡¯ç¤º"""
    def add_log(self, level: str, message: str)
```

#### EngineWorker (Background)
```python
class EngineWorker(QObject):
    """å¼•æ“å·¥ä½œåŸ·è¡Œç·’ - ç‹€æ…‹ç›£æ§èˆ‡äº‹ä»¶è™•ç†"""
    status_updated = Signal(dict)
    log_message = Signal(str, str)
```

---

## ğŸ¤– æ ¸å¿ƒå¼•æ“ç³»çµ±

### ç‹€æ…‹æ©Ÿæµç¨‹ (autobet_engine.py)
```
idle â†’ betting_open â†’ placing_bets â†’ wait_confirm â†’ in_round â†’ eval_result â†’ idle
  â†‘                                                      â†“
  â†-------------- éŒ¯èª¤è™•ç†/æš«åœ â†-----------------------
```

### ä¸»è¦ç‹€æ…‹èªªæ˜
- **idle**: å¾…æ©Ÿç‹€æ…‹ï¼Œç­‰å¾…ä¸‹æ³¨æœŸé–‹å•Ÿ
- **betting_open**: ä¸‹æ³¨æœŸé–‹å•Ÿï¼Œæº–å‚™ä¸‹æ³¨è¨ˆåŠƒ
- **placing_bets**: åŸ·è¡Œä¸‹æ³¨å‹•ä½œï¼ˆé»æ“Šç±Œç¢¼ã€ä¸‹æ³¨å€ï¼‰
- **wait_confirm**: ç­‰å¾…ç¢ºèªé€å–®ï¼ˆå¯¦æˆ°æ¨¡å¼ï¼‰
- **in_round**: å±€å…§ç­‰å¾…ï¼Œç­‰å¾…çµæœäº‹ä»¶
- **eval_result**: è©•ä¼°çµæœï¼Œæ›´æ–°çµ±è¨ˆèˆ‡ç­–ç•¥

### é—œéµæ–¹æ³•
```python
class AutoBetEngine:
    def set_enabled(self, flag: bool):          # å•Ÿç”¨/åœç”¨å¼•æ“
    def on_event(self, evt: Dict):              # è™•ç†å¤–éƒ¨äº‹ä»¶
    def _tick(self):                            # ä¸»ç‹€æ…‹æ©Ÿå¾ªç’°
    def _prepare_betting_plan(self) -> bool:    # æº–å‚™ä¸‹æ³¨è¨ˆåŠƒ
    def _execute_betting_plan(self):            # åŸ·è¡Œä¸‹æ³¨
    def _handle_result(self, evt: Dict):        # è™•ç†çµæœ
    def get_status(self) -> Dict:               # å–å¾—ç‹€æ…‹
```

---

## ğŸ‘ï¸ åµæ¸¬ç³»çµ±

### åµæ¸¬å™¨æ¶æ§‹

#### RobustOverlayDetector (å®Œæ•´ç‰ˆ)
- **ç”¨é€”**: é–‹ç™¼èˆ‡æ¸¬è©¦ç’°å¢ƒ
- **æŠ€è¡“**: HSV é¡è‰²é–˜æ§ + å¤šå°ºåº¦ NCC + Dice ä¿‚æ•¸
- **ç‰¹è‰²**: æŠ—å¹²æ“¾å¼·ã€æº–ç¢ºåº¦é«˜ã€è¨ˆç®—æˆæœ¬è¼ƒé«˜

#### ProductionOverlayDetector (ç”Ÿç”¢ç‰ˆ)
- **ç”¨é€”**: å¯¦æˆ°ç’°å¢ƒï¼ˆç›®å‰é è¨­ï¼‰
- **æŠ€è¡“**: é›™é–¾å€¼æ»¯å¾Œ + é€£çºŒå¹€é©—è­‰
- **ç‰¹è‰²**: å¿«é€Ÿç©©å®šã€è³‡æºå ç”¨ä½

#### OverlayDetectorWrapper (ç›¸å®¹å±¤)
- **ç”¨é€”**: å‘ä¸‹ç›¸å®¹èˆŠä»‹é¢
- **æŠ€è¡“**: é©é…å™¨æ¨¡å¼
- **ç‰¹è‰²**: ç„¡ç¸«åˆ‡æ›ã€ä¿æŒ API ä¸€è‡´

### æ ¸å¿ƒæ¼”ç®—æ³•

#### æ»¯å¾Œæ±ºç­–é‚è¼¯
```python
def overlay_is_open(self) -> bool:
    confidence = self.calculate_confidence(frame)

    if confidence > self.open_threshold:
        self.open_counter += 1
        self.close_counter = 0
        if self.open_counter >= self.k_open:
            return True
    elif confidence < self.close_threshold:
        self.close_counter += 1
        self.open_counter = 0
        if self.close_counter >= self.k_close:
            return False

    return self.current_state == "OPEN"
```

#### HSV é¡è‰²é–˜æ§
```python
def passes_color_gate(self, hsv_region: np.ndarray) -> bool:
    for gate_name, params in self.color_gates.items():
        if self.check_color_range(hsv_region, params):
            return True
    return False
```

---

## ğŸš€ éƒ¨ç½²èˆ‡ä½¿ç”¨

### å¿«é€Ÿå•Ÿå‹•æŒ‡ä»¤

#### 1. ç’°å¢ƒæº–å‚™
```bash
# å»ºç«‹è™›æ“¬ç’°å¢ƒ
python -m venv .venv
.venv\Scripts\activate

# å®‰è£ä¾è³´
pip install -r requirements.txt
```

#### 2. ä½ç½®æ ¡æº–
```bash
# GUI æ¨¡å¼ï¼ˆæ¨è–¦ï¼‰
python run_gui.py
# é€²å…¥ "ğŸ“ ä½ç½®æ ¡æº–" é é¢

# æˆ–å‘½ä»¤è¡Œæ¨¡å¼
python scripts/capture_positions.py
```

#### 3. ä¹¾è·‘æ¸¬è©¦
```bash
# GUI æ¨¡å¼ï¼ˆæ¨è–¦ï¼‰
python run_gui.py
# é€²å…¥ "ğŸ® å¯¦æˆ°ä¸»æ§å°" é é¢

# æˆ–å‘½ä»¤è¡Œæ¨¡å¼
python -m src.autobet.run_bot --dry-run
```

#### 4. å¯¦æˆ°éƒ¨ç½²ï¼ˆè¬¹æ…ï¼‰
```bash
# ä¿®æ”¹é…ç½®ç¢ºä¿ unit é‡‘é¡åˆç†
# ç·¨è¼¯ configs/strategy.json

# å•Ÿå‹•å¯¦æˆ°æ¨¡å¼
python -m src.autobet.run_bot
```

### é©—è­‰æ¸…å–®

#### ä¹¾è·‘å‰æª¢æŸ¥
- [ ] ä½ç½®æ ¡æº–å®Œæˆ (`configs/positions.json` å­˜åœ¨)
- [ ] ç­–ç•¥é…ç½®åˆç† (`configs/strategy.json` æª¢æŸ¥)
- [ ] æ¨¡æ¿å“è³ªè‰¯å¥½ (NCC > 0.6)
- [ ] åµæ¸¬å™¨æ­£å¸¸é‹ä½œ (GUI æ¸¬è©¦)

#### å¯¦æˆ°å‰æª¢æŸ¥
- [ ] ä¹¾è·‘æ¸¬è©¦ 30+ å±€ç„¡éŒ¯èª¤
- [ ] å°é¡æ¸¬è©¦ (unit < 500)
- [ ] åš´æ ¼é™åˆ¶ (max_loss < 2000)
- [ ] äººå·¥ç›£æ§æº–å‚™å°±ç·’

---

## âš ï¸ å·²çŸ¥å•é¡Œèˆ‡å¾…è¾¦

### é«˜å„ªå…ˆç´šå•é¡Œ

#### 1. ä½ç½®æ ¡æº–æ‰¹é‡åŒ– (page_positions.py)
- **å•é¡Œ**: ç›®å‰éœ€é€å€‹é»æ“Šæ ¡æº–
- **å½±éŸ¿**: ä½¿ç”¨è€…é«”é©—è¼ƒå·®
- **è§£æ±ºæ–¹æ¡ˆ**: å¯¦ç¾æ‰¹é‡æˆªåœ– + æ‹–æ‹½é¸æ“‡

#### 2. HSV åƒæ•¸ä»‹é¢ (page_overlay.py)
- **å•é¡Œ**: HSV é–¾å€¼éœ€ç¨‹å¼å…§èª¿æ•´
- **å½±éŸ¿**: é™¤éŒ¯å›°é›£
- **è§£æ±ºæ–¹æ¡ˆ**: æ–°å¢æ»‘æ¡¿æ§åˆ¶é …èˆ‡å³æ™‚é è¦½

#### 3. æ¨¡æ¿è·¯å¾‘è‡ªå‹•æª¢æ¸¬
- **å•é¡Œ**: æ¨¡æ¿è·¯å¾‘å¯«æ­»åœ¨é…ç½®ä¸­
- **å½±éŸ¿**: è·¨ç’°å¢ƒéƒ¨ç½²å›°é›£
- **è§£æ±ºæ–¹æ¡ˆ**: ç›¸å°è·¯å¾‘ + è‡ªå‹•æƒæ

### ä¸­å„ªå…ˆç´šæ”¹é€²

#### 1. æ—¥èªŒç³»çµ±å„ªåŒ–
- æ–°å¢æ—¥èªŒç­‰ç´šç¯©é¸
- æ–°å¢æ¨¡çµ„åˆ¥ç¯©é¸
- æ–°å¢åŒ¯å‡ºåŠŸèƒ½

#### 2. çµ±è¨ˆé¢æ¿å¢å¼·
- å‹ç‡è¨ˆç®—
- è³‡é‡‘æ›²ç·šåœ–
- ç­–ç•¥æ•ˆæœåˆ†æ

#### 3. å‚™ä»½é‚„åŸæ©Ÿåˆ¶
- é…ç½®æª”æ¡ˆå‚™ä»½
- ç­–ç•¥è¨­å®šé‚„åŸ
- ä½ç½®é…ç½®åŒ¯å…¥åŒ¯å‡º

### ä½å„ªå…ˆç´šåŠŸèƒ½

#### 1. å¤šè¢å¹•æ”¯æ´
- è¢å¹•é¸æ“‡
- DPI è‡ªå‹•åµæ¸¬
- è§£æåº¦é©é…

#### 2. ç­–ç•¥å›æ¸¬
- æ­·å²è³‡æ–™å›æ”¾
- ç­–ç•¥æ•ˆæœæ¨¡æ“¬
- åƒæ•¸æœ€ä½³åŒ–

---

## ğŸ—ºï¸ ä¸‹éšæ®µè·¯ç·šåœ–

### Phase 1: ç©©å®šæ€§æå‡ (1-2 é€±)
- [ ] å®Œæˆä½ç½®æ ¡æº–æ‰¹é‡åŒ–
- [ ] å®Œæˆ HSV åƒæ•¸èª¿æ•´ä»‹é¢
- [ ] ä¿®å¾©æ¨¡æ¿è·¯å¾‘ç¡¬ç·¨ç¢¼å•é¡Œ
- [ ] å¢å¼·éŒ¯èª¤è™•ç†èˆ‡æ¢å¾©æ©Ÿåˆ¶

### Phase 2: åŠŸèƒ½å®Œå–„ (2-3 é€±)
- [ ] å¯¦ç¾çµ±è¨ˆé¢æ¿åœ–è¡¨åŒ–
- [ ] æ–°å¢é…ç½®å‚™ä»½é‚„åŸ
- [ ] å®Œå–„æ—¥èªŒç³»çµ±
- [ ] æ–°å¢ç­–ç•¥æ•ˆæœåˆ†æ

### Phase 3: æ•ˆèƒ½å„ªåŒ– (1-2 é€±)
- [ ] åµæ¸¬æ¼”ç®—æ³•æ•ˆèƒ½èª¿å„ª
- [ ] è¨˜æ†¶é«”ä½¿ç”¨æœ€ä½³åŒ–
- [ ] å¤šåŸ·è¡Œç·’æ•ˆèƒ½èª¿æ•´
- [ ] å•Ÿå‹•é€Ÿåº¦æ”¹é€²

### Phase 4: é€²éšåŠŸèƒ½ (3-4 é€±)
- [ ] å¤šè¢å¹•æ”¯æ´
- [ ] ç­–ç•¥å›æ¸¬ç³»çµ±
- [ ] é›²ç«¯é…ç½®åŒæ­¥
- [ ] API ä»‹é¢é–‹æ”¾

---

## ğŸ“ æŠ€è¡“æ”¯æ´èˆ‡è¯çµ¡

### æª”æ¡ˆçµæ§‹å¿«é€Ÿåƒè€ƒ
```
é—œéµæª”æ¡ˆä½ç½®:
â”œâ”€â”€ ä¸»ç¨‹å¼å…¥å£: src/autobet/run_bot.py, run_gui.py
â”œâ”€â”€ å¼•æ“æ ¸å¿ƒ: src/autobet/autobet_engine.py
â”œâ”€â”€ åµæ¸¬ç³»çµ±: src/autobet/detectors.py
â”œâ”€â”€ é…ç½®ç®¡ç†: configs/*.json
â”œâ”€â”€ UI ä»‹é¢: ui/main_window.py, ui/pages/
â””â”€â”€ è¼”åŠ©å·¥å…·: scripts/*.py
```

### å¸¸è¦‹é™¤éŒ¯ä½ç½®
- **å¼•æ“ç‹€æ…‹**: `autobet_engine.py:302` (get_status)
- **åµæ¸¬æ—¥èªŒ**: `detectors.py` (å„ detector é¡)
- **é…ç½®è¼‰å…¥**: `run_bot.py:126` (load_positions)
- **UI æ›´æ–°**: `ui/workers/engine_worker.py`

### æ—¥èªŒæª”æ¡ˆä½ç½®
- **åŸ·è¡Œæ—¥èªŒ**: `data/logs/autobet.log`
- **æœƒè©±è¨˜éŒ„**: `data/sessions/session-*.csv`
- **äº‹ä»¶è¨˜éŒ„**: `data/sessions/events.out.ndjson`

---

**ğŸ¯ äº¤æ¥å®Œæˆæ—¥æœŸ**: 2025-09-27
**ä¸‹ä¸€ä½å·¥ç¨‹å¸«**: è«‹å…ˆåŸ·è¡Œä¹¾è·‘æ¸¬è©¦ï¼Œç†Ÿæ‚‰ GUI æ“ä½œæµç¨‹
**ç·Šæ€¥å•é¡Œ**: æª¢æŸ¥æ—¥èªŒæª”æ¡ˆèˆ‡é…ç½®è¨­å®š

---

*æœ¬æ–‡ä»¶å°‡éš¨å°ˆæ¡ˆé€²å±•æŒçºŒæ›´æ–°*